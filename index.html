<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ETOMIC - Gestión de Eventos</title>
    <link rel="icon" type="image/png" href="../assets/e logo.png" />
    <link rel="stylesheet" href="style.css" />
    <!-- Swiper CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Exo+2:wght@400;600;700;900&display=swap"
    />
    <!-- Swiper JS  -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
  </head>
  <body>
    <!-- Mensajes con usuario -->
    <div id="toast-container"></div>

    <!-- Header para el login y refistro -->
    <header id="auth-header" class="auth-header">
      <div class="auth-header-logo-title">
        <img
          src="../assets/e logo.png"
          alt="ETOMIC Logo"
          class="auth-header-logo"
        />
        <h1 class="auth-header-title">ETOMIC Electronic Techno Events</h1>
      </div>
    </header>

    <!-- header para principal -->
    <header id="main-header" class="main-header hidden">
      <div class="main-header-sticky">
        <div class="menu-toggle" id="menu-toggle">&#9776;</div>
        <div class="main-header-center">
          <img
            src="../assets/e logo.png"
            alt="ETOMIC Logo"
            class="main-header-logo"
          />
          <h1 class="main-header-title">ETOMIC Electronic Techno Events</h1>
        </div>
        <button id="logout-button" class="logout-btn">Log Out</button>
      </div>
    </header>

    <!--header para las subviews -->
    <header id="view-header" class="view-header hidden">
      <div class="view-header-top">
        <div class="menu-toggle" id="view-menu-toggle">&#9776;</div>
        <h2 class="view-header-title">Título de la Vista</h2>
        <!-- Botón Back Home siempre presente -->
        <button id="home-btn" class="home-btn">Back Home</button>
      </div>
    </header>

    <!-- barra laderal sidebar -->
    <nav id="sidebar" class="sidebar">
      <ul>
        <li><a href="#" id="close-sidebar">&lt;</a></li>
        <li><a href="#" id="profile-link">Profile</a></li>
        <li><a href="#" id="tickets-link">My Tickets</a></li>
        <li><a href="#" id="link-upload">Upload Media</a></li>
        <li><a href="#" id="sidebar-logout-link">Log Out</a></li>
      </ul>
    </nav>

    <!-- ==================================================================================================================================================================================== -->

    <!-- LOGIN VIEW -->
    <section id="login-view" class="view login-page">
      <div class="login-container-mix">
        <div class="login-left">
          <h2>Acces to your account</h2>
          <form id="login-form">
            <label for="login-email">Email</label>
            <input
              type="email"
              id="login-email"
              name="email"
              placeholder="Email"
              required
            />
            <label for="login-password">Password*</label>
            <div class="password-field">
              <input
                type="password"
                id="login-password"
                name="password"
                placeholder="Password"
                required
              />
              <button type="button" id="toggle-password" class="toggle-pwd-btn">
                Show
              </button>
            </div>
            <button type="submit" class="login-submit-btn">Log In</button>
            <a href="#" class="forgot-link">Forgot your password?</a>
          </form>
        </div>
        <div class="login-right">
          <h2>New at Etomic?</h2>
          <button id="show-register" class="register-btn">Sign Up</button>
        </div>
      </div>
    </section>

    <!-- REGISTER VIEW -->
    <section id="register-view" class="view register-page hidden">
      <div class="register-container-mix">
        <div class="register-left">
          <h2>Already have an account?</h2>
          <button id="show-login" class="login-btn">Log In</button>
        </div>
        <div class="register-right">
          <h2>Create your account</h2>
          <form id="register-form">
            <label for="register-name">Name</label>
            <input type="text" id="register-name" placeholder="Name" required />
            <label for="register-email">Email</label>
            <input
              type="email"
              id="register-email"
              placeholder="Email"
              required
            />
            <label for="register-password">Password</label>
            <div class="password-field">
              <input
                type="password"
                id="register-password"
                placeholder="Password"
                required
              />
              <button
                type="button"
                id="toggle-register-password"
                class="toggle-pwd-btn"
              >
                Show
              </button>
            </div>
            <label for="register-confirm-password">Repeat Password</label>
            <div class="password-field">
              <input
                type="password"
                id="register-confirm-password"
                placeholder="Repeat Password"
                required
              />
              <button
                type="button"
                id="toggle-register-confirm-password"
                class="toggle-pwd-btn"
              >
                Show
              </button>
            </div>
            <button type="submit" class="register-submit-btn">Register</button>
          </form>
        </div>
      </div>
    </section>

    <!-- VIEW PRINCIPAL -->
    <section id="main-menu-view" class="principal view hidden">
      <main class="content">
        <!--seccion de los upcoming -->
        <section class="events-section">
          <h2><a href="#" id="link-upcoming">UPCOMING EVENTS</a></h2>
          <div class="swiper" id="upcoming-swiper">
            <div class="swiper-wrapper" id="upcoming-wrapper"></div>
          </div>
        </section>

        <!-- Seccion para los attended -->
        <section class="events-section">
          <h2><a href="#" id="link-attended">ATTENDED EVENTS</a></h2>
          <div class="swiper" id="attended-swiper">
            <div class="swiper-wrapper" id="attended-wrapper"></div>
          </div>
        </section>
        <!-- seccion imagenes -->
        <section class="events-section">
          <h2><a href="#" id="link-gallery">ETOMIC GALLERY</a></h2>
          <div class="swiper" id="gallery-swiper">
            <div class="swiper-wrapper" id="gallery-wrapper"></div>
          </div>
        </section>
      </main>
    </section>

    <!-- UPLOAD IMG DESDE ETOMIC -->
    <section id="upload-media-view" class="view hidden">
      <span class="home-button" onclick="showView('main-menu-view')"
        >MyEtomic</span
      >
      <h2>Upload Event Media</h2>
      <form id="upload-form">
        <select id="upload-event-select" required>
          <option value="">Select an attended event</option>
        </select>
        <input type="file" id="upload-file" accept="image/*" required />
        <input
          type="text"
          id="upload-description"
          placeholder="Image description"
        />
        <button type="submit">Click to Upload</button>
      </form>
      <div id="upload-error" class="error"></div>
      <div id="upload-success" class="success"></div>
    </section>

    <!-- PROFILE VIEW -->
    <section id="profile-view" class="view hidden">
      <div class="profile-container">
        <div id="profile-details" class="profile-details"></div>
        <div class="profile-forms">
          <form id="profile-image-form" class="profile-form">
            <label for="profile-image-input">Change Profile Image</label>
            <input type="file" id="profile-image-input" accept="image/*" />
            <button type="submit">Upload Image</button>
            <div id="profile-image-error" class="error"></div>
          </form>
          <form id="profile-data-form" class="profile-form">
            <label for="profile-name">Name</label>
            <input type="text" id="profile-name" />
            <label for="profile-email">Email</label>
            <input type="email" id="profile-email" />
            <label for="profile-password">Password</label>
            <input
              type="password"
              id="profile-password"
              placeholder="New Password"
            />
            <label for="profile-confirm-password">Repeat Password</label>
            <input
              type="password"
              id="profile-confirm-password"
              placeholder="Repeat Password"
            />
            <button type="submit">Save Changes</button>
            <div id="profile-data-error" class="error"></div>
          </form>
        </div>
      </div>
    </section>

    <!-- TICKETS VIEW //No en funcionamiento -->
    <section id="tickets-view" class="view hidden">
      <span class="home-button" onclick="showView('main-menu-view')"
        >MyEtomic</span
      >
      <h2>My Tickets</h2>
      <div id="tickets-list"></div>
    </section>

    <!-- ================================================ UPCOMING ================================================ -->
    <!-- UPCOMING EVENTS LIST VIEW -->
    <section id="upcoming-events-view" class="view hidden">
      <div class="search-container">
        <input type="text" id="event-search" placeholder="Search Event..." />
      </div>
      <div class="events-list" id="upcoming-events-list"></div>
    </section>

    <!-- UPCOMING EVENT SINGULAR VIEW -->
    <section id="upcoming-event-singular-view" class="view hidden">
      <h2 id="upcoming-event-title"></h2>
      <div class="upcoming-detail">
        <div class="event-images">
          <img id="upcoming-event-img" src="" alt="Event Main Image" />
          <img id="upcoming-event-flyer" src="" alt="Event Flyer" />
        </div>
        <div class="event-description">
          <p id="upcoming-event-description"></p>
          <button onclick="buyTicket()">Buy Tickets</button>
        </div>
      </div>
    </section>

    <!-- ================================================ ATTENDED ================================================ -->

    <!-- ATTENDED EVENTS LIST VIEW -->
    <section id="attended-events-view" class="view hidden">
      <div class="search-container">
        <input
          type="text"
          id="attended-search"
          placeholder="Search Attended Event..."
        />
      </div>
      <div class="events-list" id="attended-full-list"></div>
    </section>

    <!-- ATTENDED EVENT SINGULAR VIEW -->
    <section id="attended-event-singular-view" class="view hidden">
      <h2 id="attended-event-title"></h2>
      <div class="event-detail">
        <img
          id="attended-event-image"
          src=""
          alt="Event Image"
          class="event-main-img"
        />
        <p id="attended-event-description"></p>
        <button class="show-attended-btn" onclick="goToEventGallery()">
          Event Gallery
        </button>
        <button id="attended-back-to-list-btn">Back to Attended</button>
      </div>
    </section>

    <!-- ================================================ GGALLERY IMG ================================================ -->

    <!-- GALLERY VIEW- GENERAL -->
    <section id="gallery-view" class="view hidden">
      <div class="search-container">
        <input
          type="text"
          id="gallery-search"
          placeholder="Search Gallery..."
        />
      </div>
      <section id="gallery-mosaic-view" class="view hidden">
        <div id="gallery-full-list"></div>
      </section>
      <section id="gallery-list-view" class="view hidden">
        <div id="gallery-list-container"></div>
      </section>
    </section>

    <!-- ATTENDED EVENT GALLERY VIEW - cuando hago click en el propio evento desde gallery-->
    <section id="attended-event-gallery-view" class="view hidden">
      <div id="attended-event-gallery-container" class="gallery-grid"></div>
    </section>

    <!-- MODAL FLYER -->
    <div id="flyer-modal" class="modalFlyer hidden">
      <div class="modalFlyer-content">
        <span class="close-btn" onclick="closeFlyerModal()">&times;</span>
        <h3 class="modalFlyer-title"></h3>
        <img src="" alt="Flyer Image" />
      </div>
    </div>

    <!-- MODAL GALLERY -->
    <div id="gallery-modal" class="modalGallery hidden">
      <div class="modalGallery-content">
        <span class="close-btn" onclick="closeGalleryModal()">&times;</span>
        <img id="gallery-modal-img" alt="Zoomed Image" />
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
